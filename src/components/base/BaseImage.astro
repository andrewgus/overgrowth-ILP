---
type Props = {
	imgName: string
	altText?: string
	describedBy?: string
	labelledby?: string
}

const { imgName, altText = '', describedBy, labelledby } = Astro.props

const imageFilePath = `https://fscjcel.blob.core.windows.net/ilp-assets/${Astro.url.pathname
	.split('/')
	.at(2)}`
---

<picture>
	<source
		type='image/avif'
		srcset=`${imageFilePath}_${imgName.split('.').at(0)}.avif`
	/>
	<source
		type='image/webp'
		srcset=`${imageFilePath}_${imgName.split('.').at(0)}.webp`
	/>
	<source
		type=`image/${imgName.split('.').at(-1)}`
		srcset=`${imageFilePath}_${imgName}`
	/>
	<img
		src=`${imageFilePath}_${imgName}`
		alt={altText}
		aria-describedby={describedBy}
		aria-labelledby={labelledby}
		role={!!!altText ? 'presentation' : 'img'}
	/>
</picture>

<style lang='scss'>
	picture {
		width: inherit;
		max-width: 100%;
		max-height: 85vh;
		> img {
			object-fit: contain;
			width: auto;
			height: 100%;
			max-width: inherit;
			max-height: inherit;
			display: block;
			margin: 0 auto;
		}
	}
</style>
