---
import katex from 'katex'

type Props = {
	formula: string
	isDisplayMode?: boolean
}

const { formula, isDisplayMode = false } = Astro.props
const html = katex.renderToString(formula, {
	throwOnError: false,
	displayMode: isDisplayMode,
})
---

<Fragment set:html={html} />

<style is:global lang='scss'>
	@import url('https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.css');

	.katex {
		text-align: center;
		display: block;
		margin: 0 auto;
		* * {
			font-size: var(--s0);
		}
		.base + .base {
			margin-top: var(--s-4);
		}
	}
</style>
