---
import type * as shiki from 'shiki'
import { Code } from 'astro/components'

type Props = {
	code: string
	codeLang: shiki.Lang | shiki.ILanguageRegistration
}
const { code, codeLang } = Astro.props

// FIXME: This is broken. Each <Code> is one line of code. Need one <Code> entry for each line passed through to this component. Should use an array prop, where each item in the arrar begets another <Code> component with the string side it as the code to pass through.
---

<figure class='code-snippet'>
	<Code code={code} lang={codeLang} theme={'dark-plus'} wrap={true} />
</figure>

<style lang='scss'>
	.code-snippet {
		border: var(--s-10) solid var(--green);
		margin: var(--s2) 0;
		> :global(.dark-plus) {
			margin: 0;
			padding: var(--s0) var(--s-4);
		}
	}
</style>
