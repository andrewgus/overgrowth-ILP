---
import LibLayout from '../layouts/LibLayout.astro'
import TopicsLibrary from '../scripts/topicsLibrary.js'

const allLessons = await Astro.glob('../pages/*/*.astro')

const topicURLs = [
	...new Set(allLessons.map((lesson) => lesson.url!.split('/').at(1))),
]

const topicTitles = topicURLs.map((t) => TopicsLibrary.get(t!))
---

<LibLayout title='All Topics'>
	<div>
		{
			topicTitles.map((title, i) => (
				<div>
					<a href={`${topicURLs[i]}`}>{title}</a>
				</div>
			))
		}
	</div>
</LibLayout>
